<article
  class="group overflow-hidden flex flex-col @sm:flex-row rounded-xl border border-gray-800 bg-gray-900/40 transition hover:bg-gray-900/70"
>
  <div class="aspect-square bg-gray-800">
    @if (album.coverUrl && !imageFailed) {
      <img
        [src]="album.coverUrl"
        [alt]="album.title"
        class="w-full object-cover aspect-square @sm:w-24"
        loading="lazy"
        (error)="onImageError()"
      />
    } @else {
      <div class="grid w-full aspect-square @sm:w-24 place-items-center text-sm text-gray-400">No cover</div>
    }
  </div>

  <div class="p-3">
    <div class="line-clamp-1 leading-tight font-medium">{{ album.title }}</div>
    <div class="line-clamp-1 text-sm text-gray-400">{{ album.artist }}</div>

    @if (album.year) {
      <div class="mt-1 text-xs text-gray-500">
        {{ album.year }}
      </div>
    }
  </div>
</article>
