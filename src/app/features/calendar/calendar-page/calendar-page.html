<div class="flex h-full flex-col gap-4">
  <div class="grid h-full flex-1 grid-rows-[auto_1fr] gap-2">
    <div
      class="grid grid-cols-7 gap-2 text-center text-xs tracking-[0.18em] text-slate-400 uppercase"
    >
      @for (day of dayNames; track day) {
        <div class="rounded-lg border border-white/10 bg-white/5 px-2 py-1">{{ day }}</div>
      }
    </div>

    <div class="grid flex-1 grid-cols-7 gap-2">
      @for (day of days(); track $index) {
        @if (day) {
          <a
            class="group min-h-[96px] rounded-xl border border-white/10 bg-gradient-to-b from-white/5 to-white/0 p-3 text-sm text-slate-100 transition hover:border-white/30 hover:bg-white/5 focus-visible:ring-2 focus-visible:ring-cyan-400/70 focus-visible:outline-none"
            [routerLink]="['/calendar', year(), month(), day]"
          >
            <div class="text-right text-xs font-semibold text-slate-300">{{ day }}</div>
            @if (entriesForDay(day).length > 0) {
              <div class="mt-2 flex flex-wrap gap-2">
                @for (entry of entriesForDay(day); track entry.id) {
                  <app-calendar-entry
                    [entry]="entry"
                    [showLabel]="entriesForDay(day).length === 1"
                  />
                }
              </div>
            }
          </a>
        } @else {
          <div
            class="min-h-[96px] rounded-xl border border-white/5 bg-gradient-to-b from-white/5 to-white/0 p-3 text-sm text-slate-500"
          >
            <div class="text-right text-xs text-slate-600">â€“</div>
          </div>
        }
      }
    </div>
  </div>
</div>
