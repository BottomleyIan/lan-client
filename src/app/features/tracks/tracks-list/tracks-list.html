<cdk-virtual-scroll-viewport
  class="@container ml-2 block h-full"
  [itemSize]="itemSizePx"
  [minBufferPx]="itemSizePx * 5"
  [maxBufferPx]="itemSizePx * 10"
>
  <div class="flex flex-col gap-2">
    <div
      *cdkVirtualFor="let track of tracks(); trackBy: trackByTrackId; let i = index"
      class="block rounded-xl first:mt-2 last:mb-2 focus:outline-none"
      role="option"
      [attr.id]="itemId(track.id)"
      [attr.aria-selected]="i === activeIndex()"
      [attr.data-selected]="i === activeIndex()"
      tabindex="-1"
      [class.ring-2]="i === activeIndex()"
      [class.ring-indigo-500]="i === activeIndex()"
    >
      <app-track-button [track]="track" [selected]="i === activeIndex()" />
    </div>
  </div>
</cdk-virtual-scroll-viewport>
