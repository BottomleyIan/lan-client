<button
  uiBigButton
  class="group flex w-full flex-row overflow-hidden text-left"
  [attr.aria-disabled]="isWorking()"
  [attr.aria-selected]="selected()"
  [attr.data-selected]="selected()"
  (click)="addToPlaylist()"
>
  <app-track-overview
    [title]="track().title"
    [artist]="track().artist ?? ''"
    [rating]="track().rating"
    [year]="track().year"
    [durationMs]="track().durationMs"
    [selected]="selected()"
  />
  <div class="flex w-full gap-3 p-3">
    <div>
      <h2
        uiH2
        [attr.data-selected]="selected()"
        class="text-tokyo-text-text data-[selected=true]:text-tokyo-accent-orange line-clamp-1 leading-tight data-[selected=true]:text-3xl"
      >
        {{ track().title }}
      </h2>
      <div class="flex flex-row gap-4">
        <div class="line-clamp-1 text-sm text-gray-400">{{ track().artist }}</div>

        @if (formattedDuration()) {
          <div class="mt-1 text-xs text-gray-500">
            {{ formattedDuration() }}
          </div>
        }
        @if (track().year) {
          <div class="mt-1 text-xs text-gray-500">
            {{ track().year }}
          </div>
        }
      </div>
    </div>
    <div class="flex grow flex-row justify-end">
      @for (level of [1, 2, 3, 4, 5]; track $index) {
        <app-icon
          [name]="track().rating >= level ? 'star' : 'starOutline'"
          [class.text-tokyo-text-subtle]="track().rating < level"
          [class.text-tokyo-text-muted]="track().rating >= level"
          [class.tokyo-glow-cyan]="track().rating >= level"
        />
      }
    </div>
  </div>
</button>
